import{r as u,e as C,c as o,a as t,F as p,f as v,w as y,d as _,t as l,v as q,g as b,o as a,h as T}from"./index-Wp7u939u.js";const V={class:"container mt-5"},$={class:"row"},D={class:"col-md-4"},B={class:"list-group"},F=["onClick"],M={class:"d-flex w-100 justify-content-between"},S={class:"mb-1"},U={class:"mb-1"},j={class:"col-md-8"},N={class:"table"},Q=["onClick"],E=["onUpdate:modelValue","onChange"],L=["value"],O={key:0,class:"alert alert-primary text-center",role:"alert"},W={key:1},z={class:"text-end mb-3"},A={class:"text-end"},G={class:"row justify-content-center"},H={class:"col-8"},J={key:0,class:"alert alert-secondary text-center",role:"alert"},K={key:1,class:"card"},P={class:"card-body"},R={class:"card-title"},X={class:"table"},Y={class:"text-end"},Z={class:"text-end"},st={__name:"WeekThreeView",setup(I){const f=u([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),i=u([]),r=u(""),c=u({}),h=C(()=>i.value.reduce((n,e)=>n+e.price*e.quantity,0)),k=n=>{i.value.push({...n,id:new Date().getTime(),quantity:1})},w=n=>{i.value=i.value.map(e=>(e.id===n.id&&(e.quantity=parseInt(n.quantity)),e))},x=n=>{i.value=i.value.filter(e=>e.id!==n)},g=()=>{c.value={id:new Date().getTime(),cart:i.value,description:r.value,sum:h.value},i.value=[],r.value=""},m=n=>n.price*n.quantity;return(n,e)=>(a(),o("div",V,[t("div",$,[t("div",D,[t("div",B,[(a(!0),o(p,null,v(f.value,s=>(a(),o("a",{key:s.id,href:"#",class:"list-group-item list-group-item-action",onClick:b(d=>k(s),["prevent"])},[t("div",M,[t("h5",S,l(s.name),1),t("small",null,"$"+l(s.price),1)]),t("p",U,l(s.description),1)],8,F))),128))])]),t("div",j,[t("table",N,[e[1]||(e[1]=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(a(!0),o(p,null,v(i.value,s=>(a(),o("tr",{key:s.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:d=>x(s.id)},"x",8,Q)]),t("td",null,l(s.name),1),t("td",null,[t("small",null,l(s.description),1)]),t("td",null,[y(t("select",{class:"form-select","onUpdate:modelValue":d=>s.quantity=d,onChange:d=>w(s)},[(a(),o(p,null,v(10,d=>t("option",{key:d,value:d},l(d),9,L)),64))],40,E),[[T,s.quantity]])]),t("td",null,l(s.price),1),t("td",null,l(m(s)),1)]))),128))])]),i.value.length===0?(a(),o("div",O," 請選擇商品 ")):(a(),o("div",W,[t("div",z,[t("h5",null,[e[2]||(e[2]=_(" 總計: ",-1)),t("span",null,"$"+l(h.value),1)])]),y(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s)},null,512),[[q,r.value]]),t("div",A,[t("button",{class:"btn btn-primary",onClick:b(g,["prevent"])},"送出")])]))])]),e[7]||(e[7]=t("hr",null,null,-1)),t("div",G,[t("div",H,[c.value.id?(a(),o("div",K,[t("div",P,[t("div",R,[e[6]||(e[6]=t("h5",null,"訂單",-1)),t("table",X,[e[3]||(e[3]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(a(!0),o(p,null,v(c.value.cart,s=>(a(),o("tr",{key:s.id},[t("td",null,l(s.name),1),t("td",null,l(s.quantity),1),t("td",null,l(m(s)),1)]))),128))])]),t("div",Y,[e[4]||(e[4]=_(" 備註: ",-1)),t("span",null,l(c.value.description),1)]),t("div",Z,[t("h5",null,[e[5]||(e[5]=_(" 總計: ",-1)),t("span",null,"$"+l(c.value.sum),1)])])])])])):(a(),o("div",J," 尚未建立訂單 "))])])]))}};export{st as default};
